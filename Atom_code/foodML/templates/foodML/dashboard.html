
<html ng-app="myApp" ng-controller="AppCtrl" lang="en">

<!-- base.html is base template everything in block content will change -->
{% load static %}
<head>

  <!--include this for javascript file for calender-->


    <!--..To be able to use these icons, you must include below line in the <head>portion of your HTML code..-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!--..Materialize..-->
  <link rel="stylesheet" type="text/css" href="{% static 'foodML/style.css' %}" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js'></script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

  <link type="text/css" rel="stylesheet" href="{% static 'materialize/css/materialize.css' %}"  media="screen,projection"/>
  <style>
  {% load static %}
  </style>


<!--..Bootstrap..-->

  <!-- <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->

<!--NavBar-->
<meta charset='utf-8'>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="styles.css">
<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
<script src="script.js"></script>



</head>
<!--...-->
<!--..............................BODY.............................................-->
<body >
<div id ="dashboard_body">
  {% block footer %}
        <!-- <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script> -->
        <script type="text/javascript" src="{% static 'foodML/calender.js' %}"></script>
    {% endblock %}

    {% include 'foodML/js.html' %}
  <!--Common ..........................NavBar-->
    <div id='cssmenu'>
    <ul>
       <!-- <li class='active'><a href='#'>Home</a></li> -->
        <li><a href="{% url 'futureworks' %}">Home</a></li>
       <li class='active'><a href="{% url 'dashboard' %}">dashboard</a></li>
       <li><a href="{% url 'analytics' %}">analytics</a></li>

    </ul>
    </div>
  <!--END OF Common ..........................NavBar-->
<br>

<div class = "row">
        <div class="col"style=" width:650" ></div>

        <div class="chip">
          November 28th, 2017
        </div>
</div>
  <!-- <label>Materialize DatePicker</label>
  <input type = "date" class = "datepicker" /> -->

<!--top three cards/ display.............................-->
  <div class="row">
          <!--Spaccing mate col s3 m1-->
              <div class="col s3 m1" >
              </div>
          <!--END OF ROW 1 Spaccing mate col s3 m1-->

          <!--ROW ONE-->
          <div class="col m3" style="width: 27.5%">
            <div class="card hoverable green darken-1" style="height:150">
              <div class="col s1 m3">
                <i class="medium material-icons" style="color:white;">local_dining</i>
              </div>
              <div class="card-content white-text center-align">


                <!-- <span class="card-title"> <h7>TOP selling: food item </h7></span> -->
                <p> <h7>Most Popular Item </h7><h5>{{top}}</h5></p>
              </div>
              <div class="card-content green darken-3">
                <div class="col s1 m3">
                </div>

              </div>
            </div>


          </div>
          <!--END OF ROW ONE-->

          <div class="col"style=" width:12" ></div>


          <!-- ROW 2-->
                 <div class="col m3" style="width: 27.5%">
                   <div class="card hoverable" style="height:150;background-color:#33b5e5;" >
                     <div class="col s1 m3">
                       <i class="medium material-icons" style="color:white;">local_dining</i>
                     </div>
                     <div class="card-content white-text center-align">


                       <!-- <span class="card-title"> <h7>TOP selling: food item </h7></span> -->
                       <p> <h7>Current Sale </h7><h5>${{sales}}</h5></p>
                     </div>
                     <div class="card-content" style="background-color:#0099cc;">
                       <div class="col s1 m3">
                       </div>

                     </div>
                   </div>


                 </div>
<!-- End of ROW 2-->

                <div class="col"style=" width:12" ></div>

<!-- ROW 3-->
                <div class="col m3" style="width: 27.5%">
                  <div class="card hoverable" style="height:150;background-color:#ff4444;">
                    <div class="col s1 m3">
                      <i class="medium material-icons" style="color:white; opacity:0.7;">local_dining</i>
                    </div>
                    <div class="card-content white-text center-align">


                      <!-- <span class="card-title"> <h7>TOP selling: food item </h7></span> -->
                      <p> <h7>Average Sales </h7><h5>$3896.98</h5></p>
                    </div>
                    <div class="card-content"style="background-color:#CC0000;">
                      <div class="col s1 m3">
                      </div>

                    </div>
                  </div>


                </div>
    <!-- </div> -->
<!-- end of ROW 3-->

</div>
<!--END OF top three cards/ display.............................-->


<!--GRAPH ON Dashboard + how to read graph (ROW)-->

<div class="row">
              <!--Spaccing mate col s3 m1-->
                  <div class="col s3 m1" >

                  </div>
                <!--END OF ROW 1 Spaccing mate col s3 m1-->
  <!---.............GRAPH ON Dashboard -->
        <div class="col s6 m7">
          <div class = "z-depth-6">
          <div class="card large hoverable" style="background-color:#1C2331">
                    <div class="card-content white-text right-align">
                      <canvas id="myChart3"></canvas>
                    </div>
                  <div class = "card" style=" background-color:#2D3A54">
                          <div class ="row">
                                    <div class="col s2 m1" >
                                    </div>
                                <div class="col s2 m5">
                                        <div class="card" style=" background-color:#2D3A54">
                                          <canvas id="myChart_dough" ></canvas>
                                        </div>
                               </div>
                                     <div class="col"style=" width:8" >
                                     </div>

                               <div class="col s2 m5" style="height:300;">
                                         <div class="card" style=" background-color:#2D3A54; height:300;">
                                           <canvas id="myChart" style="height:700;" ></canvas>
                                         </div>
                              </div>

                        </div>

                </div>

        </div>
        </div>
      </div>
  <!--END OF GRAPH ON Dashboard -->

  <!--space -->
<!-- <div class="col"style=" width:8" ></div> -->
<!--End  of space -->

<!--Yelp coloum  -->
      <div class="col" style ="background-color:white; height:400; width:380; opacity:0.7;">
        <!--yelp one  -->

            <div class="card" style ="background-color:white ">
                            <span class="yelp-review" data-review-id="h1AM8I4m-L8hLH1BjCZm1A" data-hostname="www.yelp.com">Read <a href="https://www.yelp.com/user_details?userid=YWgfWvDppKOyRpzBYTVILA" rel="nofollow noopener">Jennifer J.</a>'s <a href="https://www.yelp.com/biz/la-salsa-fresh-mexican-grill-fremont-2?hrid=h1AM8I4m-L8hLH1BjCZm1A" rel="nofollow noopener">review</a> of <a href="https://www.yelp.com/biz/KOTPz1xpku-V2gbpjuNVGg" rel="nofollow noopener">La Salsa Fresh Mexican Grill</a> on <a href="https://www.yelp.com" rel="nofollow noopener">Yelp</a><script async="async" src="https://www.yelp.com/embed/widgets.js" type="text/javascript"></script></span>
            </div>

          <!--end of yelp one  -->
          <br>

          <!--yelp two  -->
               <div class="card" style ="background-color:white ">
                          <span class="yelp-review" data-review-id="E-HsB6Hwx_IeGn8RAgus7A" data-hostname="www.yelp.com">Read <a href="https://www.yelp.com/user_details?userid=0N5TQe9OwA-6X9sP35ljdg" rel="nofollow noopener">Charles Y.</a>'s <a href="https://www.yelp.com/biz/la-salsa-fresh-mexican-grill-fremont-2?hrid=E-HsB6Hwx_IeGn8RAgus7A" rel="nofollow noopener">review</a> of <a href="https://www.yelp.com/biz/KOTPz1xpku-V2gbpjuNVGg" rel="nofollow noopener">La Salsa Fresh Mexican Grill</a> on <a href="https://www.yelp.com" rel="nofollow noopener">Yelp</a><script async="async" src="https://www.yelp.com/embed/widgets.js" type="text/javascript"></script></span>
              </div>
          <!--end of yelp two  -->
        </div>
<!--end of Yelp coloum  -->
<!--END OF GRAPH ON Dashboard + General + calender + clock  -->



<script>

var ctx = document.getElementById("myChart").getContext('2d');
var data_arr = {{ test_arr|safe }};
console.log(data_arr)
console.error(data_arr)
var myChart = new Chart(ctx, {
type: 'bar',
data: {
    labels: ["Mon", "Tues", "Wed", "Thrus", "Fri", "Sat"],
    datasets: [{
        label: 'sale daily',
        data: data_arr,
        backgroundColor: [
            'rgba(255, 99, 132, 0.2)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(255, 206, 86, 0.2)',
            'rgba(75, 192, 192, 0.2)',
            'rgba(153, 102, 255, 0.2)',
            'rgba(255, 159, 64, 0.2)'
        ],
        borderColor: [
            'rgba(255,99,132,1)',
            'rgba(54, 162, 235, 1)',
            'rgba(255, 206, 86, 1)',
            'rgba(75, 192, 192, 1)',
            'rgba(153, 102, 255, 1)',
            'rgba(255, 159, 64, 1)'
        ],
        borderWidth: 3
    }]
},
options: {
  maintainAspectRatio : false,
  legend: {
        display: true,
        labels: {
            position:'bottom',
            fontColor: 'white',
            fontFamily: 'chalkboard'
        }
    },
 animation: {
                duration: 13000
                },
title: {
                  display: true,
                  text: 'Weekly Sale Ratio',
                  fontColor:'white',
                  fontFamily: 'chalkboard'
                },
    scales: {
        yAxes: [{

          ticks: {
              fontColor:"white",
              fontFamily: 'chalkboard',
              beginAtZero:false

          },
        }],
        xAxes: [{

          ticks: {
              fontColor:"white",
              beginAtZero:false

          },
        }]
      }
}
});



var ctx3 = document.getElementById("myChart3").getContext('2d');
var data_arr = {{ hourly_curr|safe }};
var data_arr2 = {{ hourly_prev|safe }};
console.log(data_arr2)
console.error(data_arr2)

var myChart3 = new Chart(ctx3, {
  type: 'line',
    data: {
      labels: ["10:00-12:00","12:00-14:00","14:00-16:00","16:00-18:00","18:00-20:00","20:00-22:00"],
      datasets: [{
          data: data_arr,
          label: "Current Sale",
          borderColor: "#3e95cd",
          fill: false
        }, {
          data: data_arr2,
          label: "Yesterday Sale",
          borderColor: "#8e5ea2",
          fill: false
      }
      ]
    },
    options: {
      animation: {
                     duration: 13000
                     },
      title: {
        display: true,
        text: 'Current Hourly Sale vs Yesterday Hourly Sale',
        fontColor:'white'
      },
      scales: {

          yAxes: [{
        //     gridLines: {
        //   display: false,
        //   color: "white"
        // },

              ticks: {
                  fontColor:"white",
                  beginAtZero:false

              },
              gridLines: {
          color: 'white',
          lineWidth: 0.5
        }
      }],
      xAxes: [{
    //     gridLines: {
    //   display: false,
    //   color: "white"
    // },

          ticks: {
              fontColor:"white",
              beginAtZero:false

          },
          gridLines: {
      color: 'white',
      lineWidth: 0.3
    }
      }]
        }

    },
  //   oninit: function () {
  //      this.main.append('rect')
  //          .style('fill', 'white')
  //          .attr('x', 0.5)
  //          .attr('y', -0.5)
  //          .attr('width', this.width)
  //          .attr('height', this.height)
  //        .transition().duration(5000)
  //          .attr('x', this.width)
  //          .attr('width', 0)
  //        .remove();
  //  }
});
// var data_arr = {{ hourly_curr|safe }};
// var chart = AmCharts.makeChart("chartdiv", {
//     "type": "serial",
//     "theme":"black",
//     "addClassNames": true,
//     "pathToImages": "//cdn.amcharts.com/lib/3/images/",
//     "dataProvider": data_arr,
//     "valueAxes":[{}],
//     "graphs": [{
//         "id": "g1",
//         "balloonText": "[[title]]: [[value]]",
//         "lineThickness": 2,
//         "title": "intra-day",
//         "valueField": "value1"
//     }],
//     "zoomOutButtonRollOverAlpha": 0.15,
//     "chartCursor": {
//         "categoryBalloonDateFormat": "MMM DD JJ:NN",
//         "cursorPosition": "mouse",
//         "showNextAvailable":true
//     },
//     "categoryField": "date",
//     "categoryAxis": {
//         "minPeriod": "hh",
//         "parseDates": true
//     }
// });

// -----> DOughtnut chartCursor
var ctx_dough = document.getElementById("myChart_dough").getContext('2d');
var myChart_dough = new Chart(ctx_dough, {
  type: 'doughnut',
    data: {
      labels: ["Beverages", "Appetizer", "Lunch", "Dinner", "Combos"],
      datasets: [
        {
          label: "Items sold",
          backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#c45850","#e8c3b9"],
          data: [433,2000,5267,6200,133]
        }
      ]
    },
    options: {
      legend: {
            display: true,
            position:'right',
            labels: {
                position:'down',
                fontColor: 'white'
            }
        },
     maintainAspectRatio : false,

      title: {
        display: true,
        text: 'Breakdown of Menu',
        fontColor:'white'
      },
      animation: {
                     duration: 13000
                     },

    }


});




</script>









</div>
</body>
</html>
